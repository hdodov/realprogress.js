window.RealProgress=function(){function n(n){for(var e=g.untracked,t=0;t<e.length;t++)if("string"==typeof e[t]&&e[t]==n||"object"==typeof e[t]&&e[t]instanceof RegExp&&"string"==typeof n&&n.match(e[t]))return!0;return!1}function e(){var n,e;for(var o in g.tags){n=document.getElementsByTagName(o);for(var r=0;r<n.length;r++)e=n[r].getAttribute(g.tags[o]),-1===f.indexOf(n[r])&&(f.push(n[r]),n[r].addEventListener("load",t(e,o)))}}function t(t,o){var s="string"==typeof t,u=!n(t);return u&&s&&c.push(t),function(){if(u&&s){a++,r(),"function"==typeof i.onResourceLoad&&i.onResourceLoad(t);var n=c.indexOf(t);n>-1&&c.splice(n,1)}"script"==o&&setTimeout(e,0)}}function o(e){var t,o;for(var r in g.tags)for(o=g.regex(r,g.tags[r]);;){if(null==(t=o.exec(e))||!t.length||n(t[1]))break;s++}}function r(){"function"==typeof i.onProgress&&i.onProgress(u?1:s>0?a/s:0)}var i={onResourceLoad:null,onProgress:null,onLoad:null},s=0,a=0,u=!1,f=[],c=[],g={regex:function(n,e){return new RegExp("<"+n+"[^>]*"+e+"s*=s*['\"]([^'\"]+)['\"][^>]*>","gi")},untracked:[],tags:{link:"href",iframe:"src",source:"src",script:"src",img:"src"}};return i.init=function(n){if("object"==typeof n)for(var t in n)g[t]=n[t];var s=new XMLHttpRequest;s.onreadystatechange=function(){4===this.readyState&&200===this.status&&(o(this.responseText),r())},s.open("GET",document.location.href),s.send(null),window.addEventListener("load",function(){u=!0,r(),"function"==typeof i.onLoad&&i.onLoad(c),f=[]}),setTimeout(e,0)},i}();